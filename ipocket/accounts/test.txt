                if "username" in request.session:
                    email = request.session["username"]
                    product_id = request.POST["product_id"]
                    product_quantity = 1
                    product_check = Products.objects.get(product_id=product_id)

                    if product_check:
                        if Cart.objects.filter(user=email, product_attr_id=product_id):
                            return JsonResponse({"status": "Product already in cart"})

                else:
                    if product_check.quantity >= product_quantity:
                        Cart.objects.create(
                            user=email,
                            product_id=product_id,
                            product_qty=product_quantity,
                        )
                        return JsonResponse({"status": "Product added succesfully"})

                    else:
                        return JsonResponse(
                            {
                                "status": "Only "
                                + str(product_check.quantity)
                                + " quantity is available."
                            }
                        )
            else:
                return JsonResponse({"status": "No such product found"})

_______________


  
                    for item in cart:
                        cart_product_ID = item.productproduct_attr_id = pro_id

            # if same product in cart
            if Cart.objects.filter(session_id=guest(request), product_id=prod_id):
                return JsonResponse(
                    {
                        "status": "Product already in cart, Please increase the quantity from cart"
                    }
                )

            else:
                cart = Cart.objects.create(
                    session_id=guest(request), product_id=prod_id, product_qty=prod_qty
                )

                return JsonResponse({"status": "Product added succesfully"})
