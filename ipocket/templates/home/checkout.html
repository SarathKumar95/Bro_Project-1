{% extends 'home/base.html' %} 

{% block title %}Checkout{% endblock %}


{% block content %} 
{% load static %}


<style>
    input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type=number] {
  -moz-appearance: textfield;
}
  </style>



<div class="container">

    <div class="row mt-5">
      <div class="col-md-4 order-md-2 mb-4">
        <form action="" method="POST">        
          <h4 class="d-flex justify-content-between align-items-center mb-4-5">
          <span class="text-dark"><strong>Your cart</strong></span>
          <span class="badge badge-primary badge-pill">3</span>
        </h4>
        <ul class="list-group mb-3">
          {% for item in cart %}  
          <li class="list-group-item d-flex justify-content-between lh-condensed">
            <div>
                {% if item.product.series == None %}
                <h6 class="my-0">{{item.product.product_name}} {{item.product.generation}} </h6>
                {% elif item.product.generation == None %}
                <h6 class="my-0">{{item.product.product_name}} {{item.product.series}}</h6>
                {% elif item.product.generation == None and item.product.series == None %}
                <h6 class="my-0">{{item.product.product_name}}</h6>
                {% else %}
                <h6 class="my-0">{{item.product.product_name}} {{item.product.series}}</h6>
                {% endif %}
            </div>
            <span class="text-dark">{{item.product_qty}} x ₹{{item.product.price}}.00</span>
          </li>
         
         {% endfor %}
        </ul>
            <ul class="list-group list-group-flush">
                <li
                  class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                  <strong> Total : </strong><span>₹{{sub_total}}.00</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                  Shipping
                  {% if shipping == 0 %}
                  <span>Free</span>
                  {% else %}
                  <span>₹{{shipping}}.00</span>
                  {% endif %}
                </li>
                <li
                  class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                  <strong> Tax : </strong><span>{{tax}}%</span>
                </li>
                <li
                  class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                  <div>
                    <strong>Total amount</strong>
                    <strong>
                      <p class="mb-0">(including VAT)</p>
                    </strong>
                  </div>
                  <span> ₹ <strong>{{grand_total}}</strong></span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                    <div class="input-group">
                            <input type="text" class="form-control" name="coupon" placeholder="Promo code">
                            <div class="input-group-append">
                              <input type="submit" class="btn btn-primary btn-md my-0 ml-0" value="Redeem">
                            </div>
                      </div>
                </li>
              </ul>
      </div>
      <div class="col-md-8 order-md-1">
        <h4 class="mb-3"><strong>Billing address</strong></h4>
          {% for item in user_filt %}
          
            {% csrf_token %}
             <div class="row">
                <div class="col-md-6 mb-3">
                  <div class="md-form md-outline my-2">
                <input type="text" id="firstName" name="fname" class="form-control" value="{{item.first_name}}" required>
                <label for="firstName">First name</label>
              </div>
              <div class="invalid-feedback">
                Valid first name is required.
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <div class="md-form md-outline my-2">
                <input type="text" id="lastName" name="lname" class="form-control" value="{{item.last_name}}"  required>
                <label for="lastName">Last name</label>
              </div>
              <div class="invalid-feedback">
                Valid last name is required.
              </div>
            </div>
          </div>
  
          <div class="mb-3">
            <div class="md-form md-outline my-2">
              <input type="number" id="phnno" name="phno" class="form-control" value="{{item.mobile_number}}" required>
              <label for="phnno">Phone Number</label>
            </div>
            <div class="invalid-feedback">
              Your phone number is required.
            </div>
          </div>
  
          <div class="row">
            <div class="col-12 mb-3">
              <div class="md-form md-outline my-2">
                <input type="email" id="email" name="email" class="form-control" value="{{item.email}}">
                <label for="email">Email</label>
              </div>
              <div class="invalid-feedback">
                Please enter a valid email address for shipping updates.
              </div>
            </div>
  
            <div class="col-12 mb-3">
              <div class="md-form md-outline my-2">
                <input type="text" id="address" name="add1" class="form-control" required>
                <label for="address">Street Address : Line 1</label>
              </div>
              <div class="invalid-feedback">
                Please enter your shipping address.
              </div>
            </div>
  
            <div class="col-12 mb-3">
              <div class="md-form md-outline my-2">
                <input type="text" id="address2" name="add2" class="form-control" required>
                <label for="address2">Street Address : Line 2</label>
              </div>
            </div>
          </div>
  
          <div class="row">
            <div class="col-md-5 mb-3">
              <select class="custom-select d-block w-100 mt-2" id="country" name="country" required>
                <option value="">Country</option>
                <option>India</option>
              </select>
              <div class="invalid-feedback">
                Please select a valid country.
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <select class="custom-select d-block w-100 mt-2" id="state" name="state" required>
                <option value="">State</option>
                <option>Kerala</option>
                <option>Karnataka</option>
                <option>Tamil Nadu</option>
              </select>
              <div class="invalid-feedback">
                Please provide a valid state.
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3 mb-3">
              <div class="md-form md-outline mt-2 mb-0">
                <input type="text" id="zip" name="zip" class="form-control mb-0" required>
                <label for="zip">Pin Code</label>
              </div>
              <div class="invalid-feedback">
                Pin code required.
              </div>
            </div>
          </div>
          <hr class="mb-4">
          <div class="form-check pl-0">
            <input type="checkbox" class="form-check-input filled-in" id="same-address">
            <label class="form-check-label" for="same-address">Shipping address is the same as my billing address</label>
          </div>
          <div class="form-check pl-0">
            <input type="checkbox" class="form-check-input filled-in" id="save-info">
            <label class="form-check-label" for="save-info">Save this information for next time</label>
          </div>
  
          <hr class="mb-4">
  
          <h4 class="mb-3"><strong>Payment</strong></h4>
  
          <div class="d-block my-3">
            <div class="form-check pl-0">
                <input id="cod" name="paymentMethod" type="radio" class="form-check-input" checked required>
                <label class="form-check-label" for="cash">Cash On Delivery</label>
              </div>
            <div class="form-check pl-0">
              <input id="credit" name="paymentMethod" type="radio" class="form-check-input" required>
              <label class="form-check-label" for="credit">Credit card</label>
            </div>
            <div class="form-check pl-0">
              <input id="debit" name="paymentMethod" type="radio" class="form-check-input" required>
              <label class="form-check-label" for="debit">Debit card</label>
            </div>
            <div class="form-check pl-0">
              <input id="paypal" name="paymentMethod" type="radio" class="form-check-input" required>
              <label class="form-check-label" for="paypal">PayPal</label>
            </div>
          </div>
          <!---<div class="row">
            <div class="col-md-6 mb-2">
              <div class="md-form md-outline my-2">
                <input type="text" id="cc-name" class="form-control" required>
                <label for="cc-name">Name on card</label>
                <small class="text-muted">Full name as displayed on card</small>
              </div>
              <div class="invalid-feedback">
                Name on card is required
              </div>
            </div>
            <div class="col-md-6 mb-2">
              <div class="md-form md-outline my-2">
                <input type="text" id="cc-number" class="form-control" required>
                <label for="cc-number">Credit card number</label>
              </div>
              <div class="invalid-feedback">
                Credit card number is required
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3 mb-2">
              <div class="md-form md-outline my-2">
                <input type="text" id="cc-expiration" class="form-control" required>
                <label for="cc-expiration">Expiration</label>
              </div>
              <div class="invalid-feedback">
                Expiration date required
              </div>
            </div>
            <div class="col-md-3 mb-2">
              <div class="md-form md-outline my-2">
                <input type="text" id="cc-cvv" class="form-control" required>
                <label for="cc-cvv">CVV</label>
              </div>
              <div class="invalid-feedback">
                Security code required
              </div>
            </div>
          </div>
          --->
          <hr class="mb-4">
          <input type="submit" class="btn btn-warning btn-lg btn-block mb-4" value="Place Order">
        </form>
        {% endfor %}
      </div>
    </div>
  
    
  </div>

  
  {% endblock %}