{% extends 'owner/base.html' %}  

{% block title %} Product Manager {% endblock %}  


{% block content %}
{% load static %} 
<div class="main">

    <div class="page-title text-center mt-5 mb-3">
        <h5>Product List</h5>
    </div>
    
    <div class="message-wrapper text-center mb-2">
        {% for message in messages %}  
            {{message}}
        {% endfor %}
    </div>

    
<table class="table table-stripped me-3 ms-3">
    <div class="table-buttons d-flex justify-content-between mb-3">
        <div class="button-left ms-3">
            <a href="{% url 'productadd' %}" style="color:black;"><img src="{% static 'images/plus.png' %}" alt="plus button" style="height:16px;"> Add Product</a>
        </div>
        <div class="button-right me-3">
            <a href="" onclick="window.location.reload()"><img src="{% static 'images/refresh.png' %}" alt="refresh button" style="height:16px;"></a>
        </div>
    </div>
    <tbody class="table-striped">
        <tr class="table-primary" style="font-size:15px;">
            <th>Product</th>
            <th>Product Image</th>
            <th>Ram</th>
            <th>Internal Storage</th>
            <th>Screen Size</th>
            <th>Color</th>
            <th>Camera</th>
            <th>Quantity</th>
            <th>Condition</th>
            <th>Price</th>
            <th>Actions</th>
        </tr>
    
    
    
        {% for item in products %}
    
            <tr>
                <td>
                    {% if item.series %} 
                    <strong><p>{{item.product_name}} {{item.generation}} {{item.series}}</p></strong>
                    {% else %}
                    <strong><p>{{item.product_name}} {{item.generation}}</p></strong>
                    {% endif %}
                    <p>Generation : {{item.generation}}</p>
                    <p>Generation : {{item.series}}</p>
                </td>
                <td>
                    {% if item.main_image %}
                    <img src="{{item.main_image.url}}" alt="item-image" style="height:100px;" id="product-image-owner">
                    {% else %} 
                    {{"No Image"}}
                    {% endif %}
                </td>
                <td>{{item.ram}}gb</td>
                <td>{{item.internal_storage}}gb</td>
                <td>{{item.screen_size}} inches</td>
                <td>{{item.color}}</td>
                <td>{{item.camera}}</td>
                <td>
                    {% if item.quantity == 0 %}
                        {{'Out of Stock'}}
                    {% else %}    
                        {{item.quantity}}
                    {% endif %}
    
                </td>
                <td>{{item.condition}}</td>
                <td>{{item.price}}</td>
                <td>
                    <div class="mb-2">
                        <a href="{% url 'producteditor' item.product_id %}">
                            <img src="{% static 'images/edit.png' %}" alt="editbutton" style="height:25px;">
                        </a>    
                    </div>
                                    
                    <input type="image" src="{% static 'images/delete.png' %}" onclick="deleteProduct()" id="deleteproduct-btn"
                    data-url="{% url 'productdelete' item.product_id %}" style="height:25px;">
                </td>
                
            </tr>
    
    </tbody>
    
    {% endfor %}


</table>

{% endblock %}